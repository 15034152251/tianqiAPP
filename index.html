<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>天气APP</title>
	<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0"><!-- 缩放比例设置 -->
	<link rel="stylesheet" href="css/public.css">
	<link rel="stylesheet" href="css/index.css">
	<script src="js/rem.js"></script>
	<link rel="icon" type="image/icon" href="img/logo.ico">
</head>
<body>
<div class="page1">
	<!-- 当前信息 -->
	<section id="now">
		<!-- 当前城市 -->
		<h1 class="now_city">
			<span class="address"></span>
			<span class="now_city_name"></span>
			<div class="rrr">搜索</div>
		</h1>
		<!-- 当前空气质量 -->
		<div class="now_air">
			<h1>空气</h1>
			<h2></h2>
		</div>
		<!-- 当前温度 -->
		<h2 class="now_temp">
			<span></span>°
		</h2>
		<!-- 当前天气 -->
		<h3 class="now_weather">
			<span></span>
		</h3>
		<!-- 当前风向和等级 -->
		<div class="now_wind">
			<span id="nowwind"></span>
			<span id="nowwindji"></span>级
		</div>
		<h2 class="now_prompt">
			<span>关注天气变化，注意身体健康~</span>
		</h2>
	</section>
	<!-- 未来两天的信息 -->
	<section id="towdays">
		<div class="towdays_hezi today">
			<div class="towday_top">
				<span class="towdays_date">今天</span>
				<p>	
					<span class="today_hightemp"></span>/
					<span class="today_lowtemp"></span>°C
				</p>
			</div>
			<div class="towday_top">
				<span class="towdays_date towdays_date2"></span>
				<span class="towdays_img" id="jintian123"></span>
			</div>
		</div>
		<div class="towdays_hezi tomorrow">
			<div class="towday_top">
				<span class="towdays_date">明天</span>
				<p>	
					<span class="today_hightemp tomorrow_hightemp"></span>/
					<span class="today_lowtemp tomorrow_lowtemp"></span>°C
				</p>
			</div>
			<div class="towday_top">
				<span class="towdays_date towdays_date1"></span>
				<span class="towdays_img " id="mingtian123"></span>
			</div>
		</div>
	</section>
	<!-- 未来24小时的信息 -->
	<ul id="hours">
		<!--<li>-->
			<!--<h1 class="hours_time">	8:00</h1>-->
			<!--<div class="hours_img">-->
				<!--<img src="img/0.png" alt="">	-->
			<!--</div>-->
			<!--<h2 class="hours_temp">	<span>-8</span>°</h2>-->
		<!--</li>-->
		<!--<li>-->
			<!--<h1 class="hours_time">	9:00</h1>-->
			<!--<div class="hours_img">-->
				<!--<img src="img/0.png" alt="">	-->
			<!--</div>-->
			<!--<h2 class="hours_temp">	<span>-3</span>°</h2>-->
		<!--</li>-->
		<!--<li>-->
			<!--<h1 class="hours_time">	10:00</h1>-->
			<!--<div class="hours_img">-->
				<!--<img src="img/0.png" alt="">	-->
			<!--</div>-->
			<!--<h2 class="hours_temp">	<span>-1</span>°</h2>-->
		<!--</li>-->
		<!--<li>-->
			<!--<h1 class="hours_time">	11:00</h1>-->
			<!--<div class="hours_img">-->
				<!--<img src="img/0.png" alt="">	-->
			<!--</div>-->
			<!--<h2 class="hours_temp">	<span>0</span>°</h2>-->
		<!--</li>-->
		<!--<li>-->
			<!--<h1 class="hours_time">	12:00</h1>-->
			<!--<div class="hours_img">-->
				<!--<img src="img/0.png" alt="">	-->
			<!--</div>-->
			<!--<h2 class="hours_temp">	<span>1</span>°</h2>-->
		<!--</li>-->
		<!--<li>-->
			<!--<h1 class="hours_time">	13:00</h1>-->
			<!--<div class="hours_img">-->
				<!--<img src="img/0.png" alt="">	-->
			<!--</div>-->
			<!--<h2 class="hours_temp">	<span>2</span>°</h2>-->
		<!--</li>-->

	<!-- 未来一周的信息 -->	
	</ul>
	<ul id="week">	
		<!--<li>-->
			<!--<h1 class="week_time">	<span>02</span>/<span>06</span></h1>-->
			<!--<h2 class="week_weather">	<span>多云转晴</span></h2>-->
			<!--<div class="week_img">-->
				<!--<img src="img/1.png" alt="">	-->
			<!--</div>-->
			<!--<div class="week_maxtemp">4</div>-->
			<!--<div class="week_mixtemp">-14</div>-->
			<!--<div class="week_wind">西北风</div>-->
			<!--<div class="week_grade">3级</div>-->
		<!--</li>-->
		<!--<li>-->
			<!--<h1 class="week_time">	<span>02</span>/<span>07</span></h1>-->
			<!--<h2 class="week_weather">	<span>晴转多云</span></h2>-->
			<!--<div class="week_img">-->
				<!--<img src="img/0.png" alt="">	-->
			<!--</div>-->
			<!--<div class="week_maxtemp">3</div>-->
			<!--<div class="week_mixtemp">-12</div>-->
			<!--<div class="week_wind">西北风</div>-->
			<!--<div class="week_grade">3级</div>-->
		<!--</li>-->
		<!--<li>-->
			<!--<h1 class="week_time">	<span>02</span>/<span>08</span></h1>-->
			<!--<h2 class="week_weather">	<span>多云</span></h2>-->
			<!--<div class="week_img">-->
				<!--<img src="img/1.png" alt="">	-->
			<!--</div>-->
			<!--<div class="week_maxtemp">5</div>-->
			<!--<div class="week_mixtemp">-7</div>-->
			<!--<div class="week_wind">西南风</div>-->
			<!--<div class="week_grade">3级</div>-->
		<!--</li>-->
		<!--<li>-->
			<!--<h1 class="week_time">	<span>02</span>/<span>09</span></h1>-->
			<!--<h2 class="week_weather">	<span>多云</span></h2>-->
			<!--<div class="week_img">-->
				<!--<img src="img/1.png" alt="">	-->
			<!--</div>-->
			<!--<div class="week_maxtemp">4</div>-->
			<!--<div class="week_mixtemp">-10</div>-->
			<!--<div class="week_wind">西北风</div>-->
			<!--<div class="week_grade">3-4级</div>-->
		<!--</li>-->
		<!--<li>-->
			<!--<h1 class="week_time">	<span>02</span>/<span>10</span></h1>-->
			<!--<h2 class="week_weather">	<span>多云转晴</span></h2>-->
			<!--<div class="week_img">-->
				<!--<img src="img/1.png" alt="">	-->
			<!--</div>-->
			<!--<div class="week_maxtemp">0</div>-->
			<!--<div class="week_mixtemp">-11</div>-->
			<!--<div class="week_wind">西北风</div>-->
			<!--<div class="week_grade">3-4级</div>-->
		<!--</li>-->
		<!--<li>-->
			<!--<h1 class="week_time">	<span>02</span>/<span>11</span></h1>-->
			<!--<h2 class="week_weather">	<span>晴</span></h2>-->
			<!--<div class="week_img">-->
				<!--<img src="img/0.png" alt="">	-->
			<!--</div>-->
			<!--<div class="week_maxtemp">4</div>-->
			<!--<div class="week_mixtemp">-14</div>-->
			<!--<div class="week_wind">西北风</div>-->
			<!--<div class="week_grade">3-4级</div>-->
		<!--</li>-->
	</ul>
	<!-- 选择城市开始 -->
</div>
	<mian id="citys">
		<header>
			<input type="text" placeholder="  请输入搜索内容" class="search">
			<h2 class="btn">取消</h2>
		</header>
		<div class="citys_bottoms">
			<div><h1>城市</h1></div>
			<ul class="citys_back">
			</ul>
		</div>
		<!--<ul class="citys_back">-->
			<!--<div class="citys_smallback">-->
				<!--<h1 class="citys_title">热门城市</h1>-->
				<!--<div class="citys_top">-->
					<!--<li class="city_name1">太原</li>-->
					<!--<li class="city_name1">北京</li>-->
					<!--<li class="city_name1">上海</li>-->
					<!--<li class="city_name2">四川</li>-->
					<!--<li class="city_name2">杭州</li>-->
					<!--<li class="city_name2">西安</li>-->
				<!--</div>-->
				<!--<h1 class="citys_title">贵州</h1>-->
				<!--<div class="citys_middle">-->
					<!--<li class="city_name1">仁怀</li>-->
					<!--<li class="city_name1">安顺</li>-->
					<!--<li class="city_name1">福泉</li>-->
					<!--<li class="city_name2">清镇</li>-->
					<!--<li class="city_name2">铜仁</li>-->
					<!--<li class="city_name2">贵阳</li>-->
					<!--<li class="city_name2">凯里</li>-->
					<!--<li class="city_name2">遵义</li>-->
					<!--<li class="city_name2">都匀</li>-->
					<!--<li class="city_name2">兴义</li>-->
					<!--<li class="city_name2">赤水</li>-->
					<!--<li class="city_name2">六盘水</li>-->
					<!--<li class="city_name2">毕节</li>-->
				<!--</div>-->
				<!--<h1 class="citys_title">河南</h1>-->
				<!--<div class="citys_bottom">-->
					<!--<li class="city_name1">灵宝</li>-->
					<!--<li class="city_name1">孟州</li>-->
					<!--<li class="city_name1">开封</li>-->
					<!--<li class="city_name2">卫辉</li>-->
					<!--<li class="city_name2">汝州</li>-->
					<!--<li class="city_name2">驻马店</li>-->
					<!--<li class="city_name2">林州</li>-->
					<!--<li class="city_name2">郑州</li>-->
					<!--<li class="city_name2">洛阳</li>-->
					<!--<li class="city_name2">邓州</li>-->
					<!--<li class="city_name2">许昌</li>-->
					<!--<li class="city_name2">焦作</li>-->
					<!--<li class="city_name2">巩义</li>-->
					<!--<li class="city_name2">登封</li>-->
					<!--<li class="city_name2">禹州</li>-->


				<!--</div>-->
			<!--</div>-->
		<!--</ul>-->
	</mian>
	<!-- 选择城市结束 -->
	<script src="js/jquery-3.3.1.min.js"></script>
	<script>
        function getcity() {
            var data=[];
            var province=[];
            var city=[];
            $.ajax({
                url:"http://api.jisuapi.com/weather/city?appkey=8c09d163c7fa7177",
                dataType:"jsonp",
                success:function (r) {
                    data=r.result;
                    province=$.grep(data,function (val,index) {
                        if(val.parentid==="0"){
                            return true;
                        }
                    })
                    let str="";
                    $.each(province,function (index,val) {
                        str+=`<li id="${val.cityid}"><div>${val.city}</div></li>`
                    })
                    $(".citys_back").html(str);
                }
            })
            $(".citys_back").on("click","li",function () {
                var id=$(this).attr("id");
                city=$.grep(data,function (val,index) {
                    if(val.parentid===id){
                        return true;
                    }
                })
                $(".citys_back").empty();
                let str="";
                $.each(city,function (index,val) {
                    str+=`<li><div  id="city">${val.city}</div></li>`
                })
                $(".citys_back").html(str);
            })
            $(".citys_back").on("click","#city",function () {
                $("#citys").hide();
                $(".page1").show();
                getweather($(this).html())
            })
        }
        getcity();



        function getweather(city1) {

            $.ajax({
                url:"http://api.jisuapi.com/weather/query?appkey=8c09d163c7fa7177&city="+city1,
                dataType:"jsonp",
                success:function (r) {
                    console.log(r)
                    var data=r.result.daily;
                    var kongqi=r.result.aqi;
                    var data0=data[0];
                    var data1=data[1];

                    var imgg=data0.day.img;
                    var imgg1=data1.day.img;
//                    console.log(kongqi)
//                    console.log(data1.day.weather)
                    $(".now_air h2").html(kongqi.quality);
                    $(".now_city_name").html(city1);
                    strr=`<img src="img/tianqitubiao/weathercn02/${imgg}.png" alt="">`;
                    $("#jintian123").html(strr);
                    strrr=`<img src="img/tianqitubiao/weathercn02/${imgg1}.png" alt="">`;
                    $("#mingtian123").html(strr);

                    $(".today_hightemp").html(data0.day.temphigh);
                    $(".today_lowtemp").html(data0.night.templow);
                    $(".tomorrow_hightemp").html(data1.day.temphigh);
                    $(".tomorrow_lowtemp").html(data1.night.templow);
                    $(".towdays_date2").html(data0.day.weather);
                    $(".towdays_date1").html(data1.day.weather);
                    $(".now_weather span").html(data0.day.weather);
                    $("#nowwind").html(data0.day.winddirect);
                    $("#nowwindji").html(data0.day.windpower);
                    $(".now_temp span").html(data0.day.temphigh);


                    var hour=r.result.hourly;
                    var str="";
                    $.each(hour,function (index,val) {
                        str+=`<li>
				<h1 class="hours_times">${val.time}</h1>
				<div class="hours_img">
					<img src="img/tianqitubiao/weathercn02/${val.img}.png" alt="">
				</div>
				<h2 class="hours_wendu"><span>${val.temp}</span>°</h2>
			</li>`
                    })
                    $("#hours").html(str)


                    var str1="";
                    $.each(data,function (index,val) {
                        var datee=val.date.slice(5);
//                        console.log(datee)
                        str1+=`<li>
				<h2 class="yixingqi_riqi"><span>${datee}</span></h2>
				<h2 class="yixingqi_tianqi"><span>${val.day.weather}</span></h2>
				<div class="yixingqi_img">
					<img src="img/tianqitubiao/weathercn02/${val.day.img}.png" alt="">
				</div>
				<div>
					<h2 class="yixingqi_zuigao"><span>${val.day.temphigh}</span></h2>
				</div>
				<div>
					<h2 class="yixingqi_zuidi"><span>${val.night.templow}</span></h2>
				</div>
				<h2 class="yixingqi_fengxiang"><span>${val.day.winddirect}</span></h2>
				<div>
					<h2 class="yixingqi_fengji"><span>${val.day.windpower}</span></h2>
				</div>
			</li>`;
                    })
                    $("#week").html(str1);

                }


            })
        }

        $(".rrr").click(function () {
            getcity();
            $(".page1").hide();
            $("#citys").show();
        })
		$(".btn").click(function(){
            $("#citys").hide();
            $(".page1").show();
		})

	</script>
</body>
</html>
<!-- 设计稿：750*1334           100*100
iPhone8:375*667            50*50
iPhone7 plus：414*736            55.2*55.2


单位：rem（根节点字体大小变化）
1rem = 100px

750    Font=100px   1rem = 100px
375    Font=50px    1rem = 50px
414    Font=55.2px  1rem = 55.2px -->
